#!/bin/sh

# Verifica se o Python está instalado
if ! command -v python3 > /dev/null 2>&1; then
  echo "Python não encontrado. Instalando..."

  # Instalar Python no Linux (Ubuntu/Debian)
  if [ -x "$(command -v apt)" ]; then
    sudo apt update && sudo apt install -y python3 python3-pip
  # Instalar Python no Linux (Fedora)
  elif [ -x "$(command -v dnf)" ]; then
    sudo dnf install -y python3 python3-pip
  # Instalar Python no Linux (Arch)
  elif [ -x "$(command -v pacman)" ]; then
    sudo pacman -Sy --noconfirm python python-pip
  else
    echo "Erro: Gerenciador de pacotes não suportado. Instale o Python manualmente."
    exit 1
  fi
fi

# Verifica novamente se o Python está disponível
if ! command -v python3 > /dev/null 2>&1; then
  echo "Erro: Python não foi instalado corretamente."
  exit 1
fi

# Instalar o pacote Python 'fibos'
echo "Instalando pacote Python 'fibos'..."
python3 -m pip install --upgrade pip
python3 -m pip install fibos
